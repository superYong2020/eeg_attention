# è„‘ç”µä¸“æ³¨åº¦&æ”¾æ¾åº¦æ£€æµ‹

## 1. ç†è®ºä¾æ®

### ä¸“æ³¨åº¦

ç›®å‰ï¼Œåº”ç”¨æœ€å¹¿æ³›çš„è¯„ä»·ä¸“æ³¨åº¦æ–¹æ³•æ˜¯Popeç­‰äº1995å¹´æå‡ºçš„æ ¹æ®alpha,betaï¼Œthetaé¢‘æ®µèƒ½é‡è®¡ç®—è®¤çŸ¥ä¸“æ³¨åº¦çš„å…¬å¼(Pope et al., 1995)ã€‚
å³betaé¢‘æ®µèƒ½é‡ä¸alphaå’Œthetaé¢‘æ®µèƒ½é‡ä¹‹å’Œçš„æ¯”å€¼ï¼Œæ ¹æ®ç°ä»Šå¯¹è„‘ç”µä¿¡å·çš„ç†è§£ï¼Œè¿™æ˜¯å› ä¸ºäººä»¬åœ¨æ³¨æ„åŠ›é›†ä¸­æˆ–è€…è­¦è§‰çš„æƒ…å†µä¸‹è„‘ç”µä¿¡å·ä¸»è¦è¡¨ç°ä¸ºbetaé¢‘æ®µçš„ä¿¡å·ï¼Œ
è€Œäººä»¬åœ¨é™æ¯æ€æˆ–è€…ç¡çœ æ—¶ä¸»è¦è¡¨ç°ä¸ºalphaæˆ–è€…thetaç”šè‡³æ›´ä½é¢‘ç‡é¢‘æ®µçš„ä¿¡å·ï¼Œå› æ­¤è¿™ä¸ªæ¯”å€¼å¯ä»¥è¡¨å¾äººä»¬æ³¨æ„åŠ›ä¸“æ³¨ç¨‹åº¦[1]ã€‚

![è®¡ç®—å…¬å¼](./images/attention_score.png)

[1] æç¿€.åŸºäºæœºå™¨äººè¾…åŠ©ç¥ç»åº·å¤çš„æ‚£è€…è®­ç»ƒå‚ä¸åº¦ä¸ä¸“æ³¨åº¦ç ”ç©¶.2017.æ¸…åå¤§å­¦,PhD dissertation.


### æ”¾æ¾åº¦
è®¸å¤šç ”ç©¶å‘ç°ï¼Œğ›¼æ³¢æˆåˆ†åœ¨æ”¾æ¾æ—¶ä¼šå¢åŠ ï¼Œåœ¨æœ‰å‹åŠ›æ—¶ä¼šå‡å°, å› æ­¤ğ›¼æ³¢çš„å«é‡è¢«è®¤ä¸ºå¯ä»¥ä½œä¸ºå¹³é™æ”¾æ¾ç¨‹åº¦çš„ä¸€ä¸ªæŒ‡æ ‡ã€‚è€Œä¸€èˆ¬æˆå¹´äººè„‘ç”µä¸­ğ›¿æ³¢å’Œğ›¾æ³¢æ‰€å æ¯”ä¾‹éå¸¸å°[2]ã€‚
![è®¡ç®—å…¬å¼](./images/meditation.png)

[2] å´è½¶. åŸºäºè„‘ç”µçš„å¤šæ¨¡æ€æƒ…ç»ªæ”¾æ¾ç³»ç»Ÿçš„å®ç°ä¸ç ”ç©¶[D].ä¸Šæµ·äº¤é€šå¤§å­¦,2020.

## 2. ç®—æ³•pipeline
![img.png](images/pipeline.png)


## 3. æ¥å£

#### HHTFilter(eegRaw, componentsRetain)
    æ»¤æ³¢ï¼Œå»é™¤çœ¼ç”µå¹²æ‰°
    :param eegRaw: åˆ†å¸§åçš„æ•°æ®      
    :param componentsRetain: éœ€è¦ä¿ç•™çš„ä¿¡å·æˆåˆ†     
    :return: å»é™¤çœ¼ç”µåçš„å¹²å‡€æ•°æ®

#### get_attention_score(oneframe, fs)
    è·å¾—å½“å‰å¸§çš„ç¬æ—¶ä¸“æ³¨åº¦
    :param oneframe: ä¸€å¸§è„‘ç”µæ•°æ®
    :param fs: ä¿¡å·é‡‡æ ·ç‡
    :return: å½“å‰ä¸“æ³¨åº¦å¾—åˆ†

#### smooth_atten_score(attention_cache, observe_window, frame_window):
    attentionå¾—åˆ†å¹³æ»‘å¤„ç†
    :param attention_cache: å†å²attentionå¾—åˆ†
    :param observe_window: smoothæ—¶é—´çª—å£å¤§å°
    :param frame_window: åˆ†å¸§çš„çª—å£å¤§å°
    :return: è¾“å‡ºæœ‰æ•ˆattentionå¾—åˆ†

#### get_rhythm_features(oneframe, fs):
    æå–ä¿¡å·èŠ‚å¾‹æ³¢ç‰¹å¾å€¼
    :param oneframe: eegä¿¡å·
    :param fs: é‡‡æ ·é¢‘ç‡
    :return: ç‰¹å¾å€¼é›†åˆ

#### get_meditation_score(features):
    è·å¾—å½“å‰å¸§çš„ç¬æ—¶æ”¾æ¾åº¦
    :param oneframe: ä¸€å¸§è„‘ç”µæ•°æ®
    :param fs: ä¿¡å·é‡‡æ ·ç‡
    :return: å½“å‰æ”¾æ¾åº¦å¾—åˆ†


# æ›´æ–°æ—¥å¿—
* 2021.12.8 å°åŒ…è¿”å›8ä¸ªèŠ‚å¾‹æ³¢èƒ½é‡å€¼ï¼Œç§»æ¤çœ‹featureExtraction.pyçš„get_attention_score get_meditation_score get_rhythm_features_fftä¸‰ä¸ªæ¥å£   
  
* 2021.9.27 æ›´æ–°attention pipeline,å¼•å…¥å°æ³¢æ±‚èƒ½é‡ï¼ˆfix_attention.pyå’ŒfeatureExtraction.pyï¼‰


# ç»“æœå¯¹æ¯”
![attentionå¾—åˆ†](./images/attention_result.png)